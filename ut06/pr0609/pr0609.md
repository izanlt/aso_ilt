1.- Objetivo
El servidor de base de datos (SRV-SQL-PROD) se ha reiniciado inesperadamente esta madrugada. Tu jefe sospecha que el servidor se está quedando pequeño y que la CPU llegó al 100% provocando el colapso.

El sistema de monitorización ha volcado un array de enteros con el porcentaje de uso de CPU tomado cada 5 minutos durante la última hora crítica.

Tu objetivo será escribir un script que analice esos datos crudos y genere un informe automático para decidir si es necesario comprar más procesadores o si solo fue un error puntual.

2. Datos de Entrada
Copia esta variable en tu script. Representa el % de CPU en intervalos de 5 minutos.

$muestrasCPU = @(15, 12, 18, 20, 45, 88, 95, 99, 100, 98, 55, 22, 15, 10, 12, 14, 95, 99, 100, 10)

3. Requerimientos técnicos
Tu script debe recorrer el array $muestrasCPU y calcular manualmente lo siguiente:

Carga promedio:
Suma todos los valores y divídelos entre la cantidad total de muestras.
Pico máximo:
Debes averiguar cuál fue el valor más alto registrado.
Contador de incidentes críticos:
Cuenta cuántas veces la CPU superó el 90%. Esto indicará la duración del incidente.
Decisión final:
Si el promedio es superior a 70% O hubo más de 3 incidentes críticos, el script debe imprimir: [RECOMENDACIÓN] NECESARIO UPGRADE DE HARDWARE.
En caso contrario: [RECOMENDACIÓN] FALSA ALARMA. EL SERVIDOR AGUANTA.
4. Salida Esperada
=== INFORME DE RENDIMIENTO ===
Muestras analizadas: 20

RESULTADOS DEL ANÁLISIS:
- Carga Promedio: 46.1 %
- Pico Máximo: 100 %
- Incidentes Críticos (>90%): 6

DIAGNÓSTICO:
[RECOMENDACIÓN] NECESARIO UPGRADE DE HARDWARE


```powershell
$suma = 0
$maximo = 0
$incidentesCriticos = 0
$totalMuestras = $muestrasCPU.count

foreach ($valor in $muestrasCPU){
    $suma = $suma + $valor

    if ($valor -gt $maximo) {
        $maximo = $valor
    }

    if ($valor -gt 90) {
    $incidentesCriticos++
    }
}

$promedio = [Math]::Round($suma / $totalMuestras, 1)

if ($promedio -gt 70 -or $incidentesCriticos > 3) {
    $recomendacion = "[RECOMENDACIÓN] NECESARIO UPGRADE DE HARDWARE"
} else {
    $recomendacion = "[RECOMENDACIÓN] FALSA ALARMA. EL SERVIDOR AGUANTA."
}

Write-Host "=== INFORME DE RENDIMIENTO ==="
Write-Host "Muestras analizadas: $totalMuestras"

Write-Host "RESULTADOS DEL ANALISIS:"
Write-Host "- Carga promedio: $promedio%"
Write-Host "- Pico maximo: $maximo%"
Write-Host "-Incidentes críticos (>90%): $incidentesCriticos"

Write-Host "DIAGNOSTICO:"
Write-Host "$recomendacion"
```